"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[3327],{3905:(e,a,t)=>{t.d(a,{Zo:()=>p,kt:()=>f});var r=t(7294);function n(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function s(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?s(Object(t),!0).forEach((function(a){n(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function i(e,a){if(null==e)return{};var t,r,n=function(e,a){if(null==e)return{};var t,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],a.indexOf(t)>=0||(n[t]=e[t]);return n}(e,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t=s[r],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}var c=r.createContext({}),l=function(e){var a=r.useContext(c),t=a;return e&&(t="function"==typeof e?e(a):o(o({},a),e)),t},p=function(e){var a=l(e.components);return r.createElement(c.Provider,{value:a},e.children)},u={inlineCode:"code",wrapper:function(e){var a=e.children;return r.createElement(r.Fragment,{},a)}},d=r.forwardRef((function(e,a){var t=e.components,n=e.mdxType,s=e.originalType,c=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),d=l(t),f=n,m=d["".concat(c,".").concat(f)]||d[f]||u[f]||s;return t?r.createElement(m,o(o({ref:a},p),{},{components:t})):r.createElement(m,o({ref:a},p))}));function f(e,a){var t=arguments,n=a&&a.mdxType;if("string"==typeof e||n){var s=t.length,o=new Array(s);o[0]=d;var i={};for(var c in a)hasOwnProperty.call(a,c)&&(i[c]=a[c]);i.originalType=e,i.mdxType="string"==typeof e?e:n,o[1]=i;for(var l=2;l<s;l++)o[l]=t[l];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},4594:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>s,metadata:()=>i,toc:()=>l});var r=t(7462),n=(t(7294),t(3905));const s={title:"\u8bfb\u61c2GC\u65e5\u5fd7",description:"\u8bfb\u61c2GC\u65e5\u5fd7",slug:"gc-log",sidebar_position:6,keywords:["JVM"],tags:["Java"],draft:!1,hide_table_of_contents:!1,last_update:{date:"2023-03-12 21:52",author:"Hans"}},o=void 0,i={unversionedId:"java/java-jvm/\u8bfb\u61c2GC\u65e5\u5fd7",id:"java/java-jvm/\u8bfb\u61c2GC\u65e5\u5fd7",title:"\u8bfb\u61c2GC\u65e5\u5fd7",description:"\u8bfb\u61c2GC\u65e5\u5fd7",source:"@site/docs/java/java-jvm/06.\u8bfb\u61c2GC\u65e5\u5fd7.md",sourceDirName:"java/java-jvm",slug:"/java/java-jvm/gc-log",permalink:"/docs/java/java-jvm/gc-log",draft:!1,tags:[{label:"Java",permalink:"/docs/tags/java"}],version:"current",lastUpdatedBy:"Hans",lastUpdatedAt:1678629120,formattedLastUpdatedAt:"2023\u5e743\u670812\u65e5",sidebarPosition:6,frontMatter:{title:"\u8bfb\u61c2GC\u65e5\u5fd7",description:"\u8bfb\u61c2GC\u65e5\u5fd7",slug:"gc-log",sidebar_position:6,keywords:["JVM"],tags:["Java"],draft:!1,hide_table_of_contents:!1,last_update:{date:"2023-03-12 21:52",author:"Hans"}},sidebar:"tutorialSidebar",previous:{title:"JVM\u8c03\u4f18\u53c2\u6570",permalink:"/docs/java/java-jvm/tuning-parameter"},next:{title:"\u7ebf\u4e0a\u76d1\u63a7\u8bca\u65ad\u5de5\u5177 Arthas",permalink:"/docs/java/java-jvm/arthas"}},c={},l=[{value:"GC\u65e5\u5fd7\u5f00\u542f",id:"gc\u65e5\u5fd7\u5f00\u542f",level:2},{value:"\u770b\u61c2GC\u65e5\u5fd7",id:"\u770b\u61c2gc\u65e5\u5fd7",level:2},{value:"GC\u65e5\u5fd7\u914d\u7f6e\u793a\u4f8b",id:"gc\u65e5\u5fd7\u914d\u7f6e\u793a\u4f8b",level:2}],p={toc:l};function u(e){let{components:a,...s}=e;return(0,n.kt)("wrapper",(0,r.Z)({},p,s,{components:a,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"\u672c\u5730\u8c03\u8bd5\u8bbe\u7f6e\u5982\u4e0b"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"VM Args: -verbose:gc -Xms20M -Xmx20M -Xmn10M -XX:+PrintGCDetails -XX:SurvivorRatio=8 -XX:+HeapDumpOnOutOfMemoryError\n")),(0,n.kt)("p",null,(0,n.kt)("img",{src:t(6295).Z,width:"1389",height:"674"})),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-text"},'[GC (Allocation Failure) [PSYoungGen: 5632K->504K(6144K)] 5632K->1553K(19968K), 0.0021661 secs] [Times: user=0.00 sys=0.00, real=0.00 secs] \n[GC (Allocation Failure) [PSYoungGen: 5693K->512K(6144K)] 6743K->4873K(19968K), 0.0060148 secs] [Times: user=0.00 sys=0.00, real=0.01 secs] \n[GC (Allocation Failure) [PSYoungGen: 6049K->512K(6144K)] 10410K->9431K(19968K), 0.0080730 secs] [Times: user=0.00 sys=0.00, real=0.01 secs] \n[Full GC (Ergonomics) [PSYoungGen: 512K->0K(6144K)] [ParOldGen: 8919K->8303K(13824K)] 9431K->8303K(19968K), [Metaspace: 4883K->4883K(1056768K)], 0.1985090 secs] [Times: user=0.47 sys=0.00, real=0.20 secs] \n[Full GC (Ergonomics) [PSYoungGen: 5632K->0K(6144K)] [ParOldGen: 11468K->13462K(13824K)] 17100K->13462K(19968K), [Metaspace: 4883K->4883K(1056768K)], 0.1778036 secs] [Times: user=0.81 sys=0.02, real=0.18 secs] \n[Full GC (Ergonomics) [PSYoungGen: 3655K->3625K(6144K)] [ParOldGen: 13462K->13442K(13824K)] 17117K->17068K(19968K), [Metaspace: 4883K->4883K(1056768K)], 0.2557533 secs] [Times: user=0.84 sys=0.03, real=0.26 secs] \n[Full GC (Allocation Failure) [PSYoungGen: 3625K->3625K(6144K)] [ParOldGen: 13442K->13368K(13824K)] 17068K->16994K(19968K), [Metaspace: 4883K->4883K(1056768K)], 0.1935462 secs] [Times: user=0.72 sys=0.02, real=0.19 secs] \njava.lang.OutOfMemoryError: Java heap space\nDumping heap to java_pid4536.hprof ...\nHeap dump file created [29278252 bytes in 0.180 secs]\n18:04:38.108 [main] DEBUG com.hans.tech.jdkbasic.gc.HeapOOM - size: 810325\nHeap\n PSYoungGen      total 6144K, used 4755K [0x00000000ff980000, 0x0000000100000000, 0x0000000100000000)\n  eden space 5632K, 84% used [0x00000000ff980000,0x00000000ffe24cb8,0x00000000fff00000)\n  from space 512K, 0% used [0x00000000fff00000,0x00000000fff00000,0x00000000fff80000)\n  to   space 512K, 0% used [0x00000000fff80000,0x00000000fff80000,0x0000000100000000)\n ParOldGen       total 13824K, used 13368K [0x00000000fec00000, 0x00000000ff980000, 0x00000000ff980000)\n  object space 13824K, 96% used [0x00000000fec00000,0x00000000ff90e2d0,0x00000000ff980000)\n Metaspace       used 5074K, capacity 5244K, committed 5504K, reserved 1056768K\n  class space    used 557K, capacity 596K, committed 640K, reserved 1048576K\nException in thread "main" java.lang.OutOfMemoryError: Java heap space\n    at java.util.Arrays.copyOf(Arrays.java:3210)\n    at java.util.Arrays.copyOf(Arrays.java:3181)\n    at java.util.ArrayList.grow(ArrayList.java:267)\n    at java.util.ArrayList.ensureExplicitCapacity(ArrayList.java:241)\n    at java.util.ArrayList.ensureCapacityInternal(ArrayList.java:233)\n    at java.util.ArrayList.add(ArrayList.java:464)\n    at com.hans.tech.jdkbasic.gc.HeapOOM.main(HeapOOM.java:28)\n')),(0,n.kt)("h2",{id:"gc\u65e5\u5fd7\u5f00\u542f"},"GC\u65e5\u5fd7\u5f00\u542f"),(0,n.kt)("p",null,(0,n.kt)("img",{src:t(4841).Z,width:"1660",height:"1022"})),(0,n.kt)("h2",{id:"\u770b\u61c2gc\u65e5\u5fd7"},"\u770b\u61c2GC\u65e5\u5fd7"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Minor GC\u65e5\u5fd7")),(0,n.kt)("p",null,(0,n.kt)("img",{src:t(4718).Z,width:"2000",height:"567"})),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Full GC\u65e5\u5fd7")),(0,n.kt)("p",null,(0,n.kt)("img",{src:t(2228).Z,width:"2000",height:"781"})),(0,n.kt)("h2",{id:"gc\u65e5\u5fd7\u914d\u7f6e\u793a\u4f8b"},"GC\u65e5\u5fd7\u914d\u7f6e\u793a\u4f8b"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://mp.weixin.qq.com/s/yRTTc4r0yfWCoSPz7rKzIQ"},"https://mp.weixin.qq.com/s/yRTTc4r0yfWCoSPz7rKzIQ")))}u.isMDXComponent=!0},6295:(e,a,t)=>{t.d(a,{Z:()=>r});const r=t.p+"assets/images/20230319180657-0ca59cdf4e894135fcbe01989a105259.png"},4841:(e,a,t)=>{t.d(a,{Z:()=>r});const r=t.p+"assets/images/20230319220054-1e3fd3d1717e6f8362964eb73338b1df.png"},4718:(e,a,t)=>{t.d(a,{Z:()=>r});const r=t.p+"assets/images/20230319220208-4a82eb43107da1c93c364388347dede8.png"},2228:(e,a,t)=>{t.d(a,{Z:()=>r});const r=t.p+"assets/images/20230319220318-31fd6503722f7db6bab13e77ac15271f.png"}}]);
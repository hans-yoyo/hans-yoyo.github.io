"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[7484],{3905:(e,t,A)=>{A.d(t,{Zo:()=>p,kt:()=>k});var a=A(7294);function n(e,t,A){return t in e?Object.defineProperty(e,t,{value:A,enumerable:!0,configurable:!0,writable:!0}):e[t]=A,e}function r(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,a)}return A}function l(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?r(Object(A),!0).forEach((function(t){n(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):r(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}function d(e,t){if(null==e)return{};var A,a,n=function(e,t){if(null==e)return{};var A,a,n={},r=Object.keys(e);for(a=0;a<r.length;a++)A=r[a],t.indexOf(A)>=0||(n[A]=e[A]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)A=r[a],t.indexOf(A)>=0||Object.prototype.propertyIsEnumerable.call(e,A)&&(n[A]=e[A])}return n}var i=a.createContext({}),s=function(e){var t=a.useContext(i),A=t;return e&&(A="function"==typeof e?e(t):l(l({},t),e)),A},p=function(e){var t=s(e.components);return a.createElement(i.Provider,{value:t},e.children)},o={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var A=e.components,n=e.mdxType,r=e.originalType,i=e.parentName,p=d(e,["components","mdxType","originalType","parentName"]),u=s(A),k=n,f=u["".concat(i,".").concat(k)]||u[k]||o[k]||r;return A?a.createElement(f,l(l({ref:t},p),{},{components:A})):a.createElement(f,l({ref:t},p))}));function k(e,t){var A=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=A.length,l=new Array(r);l[0]=u;var d={};for(var i in t)hasOwnProperty.call(t,i)&&(d[i]=t[i]);d.originalType=e,d.mdxType="string"==typeof e?e:n,l[1]=d;for(var s=2;s<r;s++)l[s]=A[s];return a.createElement.apply(null,l)}return a.createElement.apply(null,A)}u.displayName="MDXCreateElement"},3998:(e,t,A)=>{A.r(t),A.d(t,{assets:()=>i,contentTitle:()=>l,default:()=>o,frontMatter:()=>r,metadata:()=>d,toc:()=>s});var a=A(7462),n=(A(7294),A(3905));const r={title:"Redis \u6301\u4e45\u5316",slug:"persistence",sidebar_position:4,keywords:["Redis"],tags:["Redis"],draft:!1,hide_table_of_contents:!1,last_update:{date:"2023-05-07 17:28",author:"Hans"}},l=void 0,d={unversionedId:"redis/Redis \u6301\u4e45\u5316",id:"redis/Redis \u6301\u4e45\u5316",title:"Redis \u6301\u4e45\u5316",description:"Redis\u4e3a\u4e86\u4fdd\u8bc1\u6548\u7387\uff0c\u6570\u636e\u7f13\u5b58\u5728\u5185\u5b58\u4e2d\uff0c\u4f46\u662f\u4f1a\u5468\u671f\u6027\u7684\u628a\u66f4\u65b0\u7684\u6570\u636e\u5199\u5165\u78c1\u76d8\uff0c\u6216\u8005\u628a\u64cd\u4f5c\u4fee\u6539\u5199\u5165\u8ffd\u52a0\u7684\u8bb0\u5f55\u6587\u4ef6\u4e2d\uff0c\u4ee5\u4fdd\u8bc1\u6570\u636e\u6301\u4e45\u5316\u3002",source:"@site/docs/06.redis/04.Redis \u6301\u4e45\u5316.md",sourceDirName:"06.redis",slug:"/redis/persistence",permalink:"/docs/redis/persistence",draft:!1,tags:[{label:"Redis",permalink:"/docs/tags/redis"}],version:"current",lastUpdatedBy:"Hans",lastUpdatedAt:1683451680,formattedLastUpdatedAt:"2023\u5e745\u67087\u65e5",sidebarPosition:4,frontMatter:{title:"Redis \u6301\u4e45\u5316",slug:"persistence",sidebar_position:4,keywords:["Redis"],tags:["Redis"],draft:!1,hide_table_of_contents:!1,last_update:{date:"2023-05-07 17:28",author:"Hans"}},sidebar:"tutorialSidebar",previous:{title:"Redis \u5e95\u5c42\u6570\u636e\u7ed3\u6784",permalink:"/docs/redis/data-structure"},next:{title:"Redis \u7f13\u5b58\u95ee\u9898\u3001\u6dd8\u6c70\u7b56\u7565",permalink:"/docs/redis/cache-concern"}},i={},s=[{value:"RDB \u6301\u4e45\u5316",id:"rdb-\u6301\u4e45\u5316",level:2},{value:"\u4ec0\u4e48\u662f RDB",id:"\u4ec0\u4e48\u662f-rdb",level:3},{value:"\u89e6\u53d1\u65b9\u5f0f",id:"\u89e6\u53d1\u65b9\u5f0f",level:3},{value:"\u624b\u52a8\u89e6\u53d1",id:"\u624b\u52a8\u89e6\u53d1",level:4},{value:"\u81ea\u52a8\u89e6\u53d1",id:"\u81ea\u52a8\u89e6\u53d1",level:4},{value:"\u4f18\u3001\u7f3a\u70b9",id:"\u4f18\u7f3a\u70b9",level:3},{value:"Redis RDB \u7684\u51e0\u4e2a\u7591\u95ee",id:"redis-rdb-\u7684\u51e0\u4e2a\u7591\u95ee",level:3},{value:"\u76f8\u5173\u914d\u7f6e\u53c2\u6570",id:"\u76f8\u5173\u914d\u7f6e\u53c2\u6570",level:3},{value:"AOF \u6301\u4e45\u5316",id:"aof-\u6301\u4e45\u5316",level:2},{value:"\u4ec0\u4e48\u662f AOF",id:"\u4ec0\u4e48\u662f-aof",level:3},{value:"\u4f18\u3001\u7f3a\u70b9",id:"\u4f18\u7f3a\u70b9-1",level:3},{value:"AOF \u76f8\u5173\u7684\u914d\u7f6e\u53c2\u6570",id:"aof-\u76f8\u5173\u7684\u914d\u7f6e\u53c2\u6570",level:3},{value:"AOF \u91cd\u5199",id:"aof-\u91cd\u5199",level:3},{value:"RDB-AOF \u6df7\u5408\u6301\u4e45\u5316",id:"rdb-aof-\u6df7\u5408\u6301\u4e45\u5316",level:2},{value:"\u7b80\u4ecb",id:"\u7b80\u4ecb",level:3},{value:"\u76f8\u5173\u914d\u7f6e",id:"\u76f8\u5173\u914d\u7f6e",level:3},{value:"Redis \u6062\u590d\u6570\u636e",id:"redis-\u6062\u590d\u6570\u636e",level:2},{value:"\u6d41\u7a0b",id:"\u6d41\u7a0b",level:3},{value:"RDB \u5207\u6362\u4e3a AOF \u6d41\u7a0b",id:"rdb-\u5207\u6362\u4e3a-aof-\u6d41\u7a0b",level:3}],p={toc:s};function o(e){let{components:t,...r}=e;return(0,n.kt)("wrapper",(0,a.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Redis\u4e3a\u4e86\u4fdd\u8bc1\u6548\u7387\uff0c\u6570\u636e\u7f13\u5b58\u5728\u5185\u5b58\u4e2d\uff0c\u4f46\u662f\u4f1a\u5468\u671f\u6027\u7684\u628a\u66f4\u65b0\u7684\u6570\u636e\u5199\u5165\u78c1\u76d8\uff0c\u6216\u8005\u628a\u64cd\u4f5c\u4fee\u6539\u5199\u5165\u8ffd\u52a0\u7684\u8bb0\u5f55\u6587\u4ef6\u4e2d\uff0c\u4ee5\u4fdd\u8bc1\u6570\u636e\u6301\u4e45\u5316\u3002"),(0,n.kt)("p",null,"Redis \u6301\u4e45\u5316\u6709\u54ea\u51e0\u79cd\u65b9\u5f0f"),(0,n.kt)("p",null,(0,n.kt)("img",{src:A(6006).Z,width:"785",height:"313"})),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"RDB \u548c AOF \u5bf9\u6bd4")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"-"),(0,n.kt)("th",{parentName:"tr",align:null},"RDB"),(0,n.kt)("th",{parentName:"tr",align:null},"AOF"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"\u542f\u52a8\u4f18\u5148\u7ea7"),(0,n.kt)("td",{parentName:"tr",align:null},"\u4f4e"),(0,n.kt)("td",{parentName:"tr",align:null},"\u9ad8")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"\u4f53\u79ef"),(0,n.kt)("td",{parentName:"tr",align:null},"\u5c0f"),(0,n.kt)("td",{parentName:"tr",align:null},"\u5927")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"\u6062\u590d\u901f\u5ea6"),(0,n.kt)("td",{parentName:"tr",align:null},"\u5feb"),(0,n.kt)("td",{parentName:"tr",align:null},"\u6162")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"\u6570\u636e\u5b89\u5168\u6027"),(0,n.kt)("td",{parentName:"tr",align:null},"\u4e22\u5931\u82e5\u5e72\u65f6\u95f4\u5185\u7684\u6570\u636e"),(0,n.kt)("td",{parentName:"tr",align:null},"\u6839\u636e\u7b56\u7565\u51b3\u5b9a")))),(0,n.kt)("h2",{id:"rdb-\u6301\u4e45\u5316"},"RDB \u6301\u4e45\u5316"),(0,n.kt)("h3",{id:"\u4ec0\u4e48\u662f-rdb"},"\u4ec0\u4e48\u662f RDB"),(0,n.kt)("p",null,"RDB \u5c31\u662f Redis DataBase \u7684\u7f29\u5199\uff0c\u4e2d\u6587\u540d\u4e3a\u5feb\u7167/\u5185\u5b58\u5feb\u7167\uff0cRDB\u6301\u4e45\u5316\u662f\u628a\u5f53\u524d\u8fdb\u7a0b\u6570\u636e\u751f\u6210\u5feb\u7167\u4fdd\u5b58\u5230\u78c1\u76d8\u4e0a\u7684\u8fc7\u7a0b\u3002"),(0,n.kt)("h3",{id:"\u89e6\u53d1\u65b9\u5f0f"},"\u89e6\u53d1\u65b9\u5f0f"),(0,n.kt)("h4",{id:"\u624b\u52a8\u89e6\u53d1"},"\u624b\u52a8\u89e6\u53d1"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"save\u547d\u4ee4"),"\uff1a\u963b\u585e\u5f53\u524dRedis\u670d\u52a1\u5668\uff0c\u76f4\u5230RDB\u8fc7\u7a0b\u5b8c\u6210\u4e3a\u6b62\uff0c\u5bf9\u4e8e\u5185\u5b58 \u6bd4\u8f83\u5927\u7684\u5b9e\u4f8b\u4f1a\u9020\u6210\u957f\u65f6\u95f4",(0,n.kt)("strong",{parentName:"li"},"\u963b\u585e"),"\uff0c\u7ebf\u4e0a\u73af\u5883\u4e0d\u5efa\u8bae\u4f7f\u7528"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"bgsave\u547d\u4ee4"),"\uff1aRedis\u8fdb\u7a0b\u6267\u884cfork\u64cd\u4f5c\u521b\u5efa\u5b50\u8fdb\u7a0b\uff0cRDB\u6301\u4e45\u5316\u8fc7\u7a0b\u7531\u5b50 \u8fdb\u7a0b\u8d1f\u8d23\uff0c\u5b8c\u6210\u540e\u81ea\u52a8\u7ed3\u675f\u3002\u963b\u585e\u53ea\u53d1\u751f\u5728fork\u9636\u6bb5\uff0c\u4e00\u822c\u65f6\u95f4\u5f88\u77ed")),(0,n.kt)("p",null,"bgsave \u6d41\u7a0b\u56fe"),(0,n.kt)("p",null,(0,n.kt)("img",{src:A(6765).Z,width:"516",height:"620"})),(0,n.kt)("p",null,"\u5177\u4f53\u6d41\u7a0b\u5982\u4e0b\uff1a"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"redis\u5ba2\u6237\u7aef\u6267\u884cbgsave\u547d\u4ee4\u6216\u8005\u81ea\u52a8\u89e6\u53d1bgsave\u547d\u4ee4\uff1b"),(0,n.kt)("li",{parentName:"ul"},"\u4e3b\u8fdb\u7a0b\u5224\u65ad\u5f53\u524d\u662f\u5426\u5df2\u7ecf\u5b58\u5728\u6b63\u5728\u6267\u884c\u7684\u5b50\u8fdb\u7a0b\uff0c\u5982\u679c\u5b58\u5728\uff0c\u90a3\u4e48\u4e3b\u8fdb\u7a0b\u76f4\u63a5\u8fd4\u56de\uff1b"),(0,n.kt)("li",{parentName:"ul"},"\u5982\u679c\u4e0d\u5b58\u5728\u6b63\u5728\u6267\u884c\u7684\u5b50\u8fdb\u7a0b\uff0c\u90a3\u4e48\u5c31fork\u4e00\u4e2a\u65b0\u7684\u5b50\u8fdb\u7a0b\u8fdb\u884c\u6301\u4e45\u5316\u6570\u636e\uff0cfork\u8fc7\u7a0b\u662f\u963b\u585e\u7684\uff0cfork\u64cd\u4f5c\u5b8c\u6210\u540e\u4e3b\u8fdb\u7a0b\u5373\u53ef\u6267\u884c\u5176\u4ed6\u64cd\u4f5c\uff1b"),(0,n.kt)("li",{parentName:"ul"},"\u5b50\u8fdb\u7a0b\u5148\u5c06\u6570\u636e\u5199\u5165\u5230\u4e34\u65f6\u7684rdb\u6587\u4ef6\u4e2d\uff0c\u5f85\u5feb\u7167\u6570\u636e\u5199\u5165\u5b8c\u6210\u540e\u518d\u539f\u5b50\u66ff\u6362\u65e7\u7684rdb\u6587\u4ef6\uff1b"),(0,n.kt)("li",{parentName:"ul"},"\u540c\u65f6\u53d1\u9001\u4fe1\u53f7\u7ed9\u4e3b\u8fdb\u7a0b\uff0c\u901a\u77e5\u4e3b\u8fdb\u7a0brdb\u6301\u4e45\u5316\u5b8c\u6210\uff0c\u4e3b\u8fdb\u7a0b\u66f4\u65b0\u76f8\u5173\u7684\u7edf\u8ba1\u4fe1\u606f\uff08info Persitence\u4e0b\u7684",(0,n.kt)("inlineCode",{parentName:"li"},"rdb_*"),"\u76f8\u5173\u9009\u9879\uff09\u3002")),(0,n.kt)("h4",{id:"\u81ea\u52a8\u89e6\u53d1"},"\u81ea\u52a8\u89e6\u53d1"),(0,n.kt)("p",null,"\u5728\u4ee5\u4e0b\u60c5\u51b5\u4e0b\u4f1a\u81ea\u52a8\u89e6\u53d1\uff0c\u751f\u4ea7\u73af\u5883\u591a\u6570\u60c5\u51b5\u4e0b\u4f1a\u8bbe\u7f6e\u5468\u671f\u6027\u8fdb\u884c RDB \u6301\u4e45\u5316"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"redis.conf\u4e2d\u914d\u7f6e",(0,n.kt)("inlineCode",{parentName:"li"},"save m n"),"\uff0c\u5373\u5728m\u79d2\u5185\u6709n\u6b21\u4fee\u6539\u65f6\uff0c\u81ea\u52a8\u89e6\u53d1bgsave\u751f\u6210rdb\u6587\u4ef6\uff1b"),(0,n.kt)("li",{parentName:"ul"},"\u4e3b\u4ece\u590d\u5236\u65f6\uff0c\u4ece\u8282\u70b9\u8981\u4ece\u4e3b\u8282\u70b9\u8fdb\u884c\u5168\u91cf\u590d\u5236\u65f6\u4e5f\u4f1a\u89e6\u53d1bgsave\u64cd\u4f5c\uff0c\u751f\u6210\u5f53\u65f6\u7684\u5feb\u7167\u53d1\u9001\u5230\u4ece\u8282\u70b9\uff1b"),(0,n.kt)("li",{parentName:"ul"},"\u6267\u884cdebug reload\u547d\u4ee4\u91cd\u65b0\u52a0\u8f7dredis\u65f6\u4e5f\u4f1a\u89e6\u53d1bgsave\u64cd\u4f5c\uff1b"),(0,n.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u6267\u884cshutdown\u547d\u4ee4\u65f6\uff0c\u5982\u679c\u6ca1\u6709\u5f00\u542faof\u6301\u4e45\u5316\uff0c\u90a3\u4e48\u4e5f\u4f1a\u89e6\u53d1bgsave\u64cd\u4f5c\uff1b")),(0,n.kt)("h3",{id:"\u4f18\u7f3a\u70b9"},"\u4f18\u3001\u7f3a\u70b9"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"\u4f18\u70b9")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"rdb\u6587\u4ef6\u4f53\u79ef\u6bd4\u8f83\u5c0f\uff0c\u9002\u5408\u5907\u4efd\u548c\u4f20\u8f93"),(0,n.kt)("li",{parentName:"ul"},"\u6027\u80fd\u6bd4 aof \u597d\uff0caof \u9700\u8981\u5199\u5165\u65e5\u5fd7\u5230\u6587\u4ef6\u4e2d"),(0,n.kt)("li",{parentName:"ul"},"rdb \u6062\u590d\u6bd4 aof \u66f4\u5feb")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"\u7f3a\u70b9")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u5b9e\u65f6\u6027\u4e0d\u591f\uff0c\u65e0\u6cd5\u505a\u5230\u79d2\u7ea7\u6301\u4e45\u5316\uff0c\u670d\u52a1\u5668\u6545\u969c\u65f6\uff0c\u4f1a\u4e22\u5931\u6700\u540e\u4e00\u6b21\u5907\u4efd\u4e4b\u540e\u7684\u6570\u636e"),(0,n.kt)("li",{parentName:"ul"},"Redis \u4fdd\u5b58 rdb \u65f6\uff0cfork\u5b50\u8fdb\u7a0b\u5c5e\u4e8e\u91cd\u91cf\u7ea7\u64cd\u4f5c\uff0c\u9891\u7e41\u6267\u884c\u6210\u672c\u8f83\u9ad8\uff0cfork \u5b50\u8fdb\u7a0b\u5907\u4efd\u671f\u95f4\uff0cRedis \u670d\u52a1\u4f1a\u505c\u6b62\u54cd\u5e94(\u4e00\u822c\u662f\u6beb\u79d2\u7ea7)"),(0,n.kt)("li",{parentName:"ul"},"RDB\u6587\u4ef6\u662f\u4e8c\u8fdb\u5236\u7684\uff0c\u6ca1\u6709\u53ef\u8bfb\u6027\uff0cAOF\u6587\u4ef6\u5728\u4e86\u89e3\u5176\u7ed3\u6784\u7684\u60c5\u51b5\u4e0b\u53ef\u4ee5\u624b\u52a8\u4fee\u6539\u6216\u8005\u8865\u5168")),(0,n.kt)("h3",{id:"redis-rdb-\u7684\u51e0\u4e2a\u7591\u95ee"},"Redis RDB \u7684\u51e0\u4e2a\u7591\u95ee"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"\u5728Redis \u6301\u4e45\u5316\u65f6\uff0c\u4e00\u822c\u90fd\u4f1a\u6536\u5230\u6570\u636e\u5199\u64cd\u4f5c\u8bf7\u6c42\u3002\u90a3\u4e48\u5982\u4f55\u4fdd\u8bc1\u6570\u636e\u4e00\u81f4\u6027\u5462")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"RDB\u4e2d\u7684\u6838\u5fc3\u601d\u8def\u662fCopy-on-Write\uff0c\u6765\u4fdd\u8bc1\u5728\u8fdb\u884c\u5feb\u7167\u64cd\u4f5c\u7684\u8fd9\u6bb5\u65f6\u95f4\uff0c\u9700\u8981\u538b\u7f29\u5199\u5165\u78c1\u76d8\u4e0a\u7684\u6570\u636e\u5728\u5185\u5b58\u4e2d\u4e0d\u4f1a\u53d1\u751f\u53d8\u5316\u3002\u8fd9\u6bb5\u65f6\u95f4\u53d1\u751f\u7684\u6570\u636e\u53d8\u5316\u4f1a\u4ee5\u526f\u672c\u7684\u65b9\u5f0f\u5b58\u653e\u5728\u53e6\u4e00\u4e2a\u65b0\u7684\u5185\u5b58\u533a\u57df\uff0c\u5f85\u5feb\u7167\u64cd\u4f5c\u7ed3\u675f\u540e\u624d\u4f1a\u540c\u6b65\u5230\u539f\u6765\u7684\u5185\u5b58\u533a\u57df")),(0,n.kt)("ol",{start:2},(0,n.kt)("li",{parentName:"ol"},"\u5728\u8fdb\u884c\u5feb\u7167\u64cd\u4f5c\u7684\u8fd9\u6bb5\u65f6\u95f4\uff0c\u5982\u679c\u53d1\u751f\u670d\u52a1\u5d29\u6e83\u600e\u4e48\u529e")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Redis\u670d\u52a1\u4f1a\u5728\u78c1\u76d8\u4e0a\u521b\u5efa\u4e00\u4e2a\u4e34\u65f6\u6587\u4ef6\u8fdb\u884c\u6570\u636e\u64cd\u4f5c\uff0c\u5f85\u64cd\u4f5c\u6210\u529f\u540e\u624d\u4f1a\u7528\u8fd9\u4e2a\u4e34\u65f6\u6587\u4ef6\u66ff\u6362\u6389\u4e0a\u4e00\u6b21\u7684\u5907\u4efd\u3002")),(0,n.kt)("h3",{id:"\u76f8\u5173\u914d\u7f6e\u53c2\u6570"},"\u76f8\u5173\u914d\u7f6e\u53c2\u6570"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"################################ SNAPSHOTTING  ################################\n# \u5feb\u7167\u914d\u7f6e save <seconds> <changes>\n# \u8bbe\u7f6esedis\u8fdb\u884c\u6570\u636e\u5e93\u955c\u50cf\u7684\u9891\u7387\u3002\n# 900\u79d2\uff0815\u5206\u949f\uff09\u5185\u81f3\u5c111\u4e2akey\u503c\u6539\u53d8\uff08\u5219\u8fdb\u884c\u6570\u636e\u5e93\u4fdd\u5b58--\u6301\u4e45\u5316\uff09 \n# 300\u79d2\uff085\u5206\u949f\uff09\u5185\u81f3\u5c1110\u4e2akey\u503c\u6539\u53d8\uff08\u5219\u8fdb\u884c\u6570\u636e\u5e93\u4fdd\u5b58--\u6301\u4e45\u5316\uff09 \n# 60\u79d2\uff081\u5206\u949f\uff09\u5185\u81f3\u5c1110000\u4e2akey\u503c\u6539\u53d8\uff08\u5219\u8fdb\u884c\u6570\u636e\u5e93\u4fdd\u5b58--\u6301\u4e45\u5316\uff09\nsave 900 1\nsave 300 10\nsave 60 10000\n\n#\u5f53RDB\u6301\u4e45\u5316\u51fa\u73b0\u9519\u8bef\u540e\uff0c\u662f\u5426\u4f9d\u7136\u8fdb\u884c\u7ee7\u7eed\u8fdb\u884c\u5de5\u4f5c\uff0cyes\uff1a\u4e0d\u80fd\u8fdb\u884c\u5de5\u4f5c\uff0cno\uff1a\u53ef\u4ee5\u7ee7\u7eed\u8fdb\u884c\u5de5\u4f5c\uff0c\u53ef\u4ee5\u901a\u8fc7info\u4e2d\u7684rdb_last_bgsave_status\u4e86\u89e3RDB\u6301\u4e45\u5316\u662f\u5426\u6709\u9519\u8bef\nstop-writes-on-bgsave-error yes\n\n#\u4f7f\u7528\u538b\u7f29rdb\u6587\u4ef6\uff0crdb\u6587\u4ef6\u538b\u7f29\u4f7f\u7528LZF\u538b\u7f29\u7b97\u6cd5\uff0cyes\uff1a\u538b\u7f29\uff0c\u4f46\u662f\u9700\u8981\u4e00\u4e9bcpu\u7684\u6d88\u8017\u3002no\uff1a\u4e0d\u538b\u7f29\uff0c\u9700\u8981\u66f4\u591a\u7684\u78c1\u76d8\u7a7a\u95f4\nrdbcompression yes\n\n#\u662f\u5426\u6821\u9a8crdb\u6587\u4ef6\u3002\u4ecerdb\u683c\u5f0f\u7684\u7b2c\u4e94\u4e2a\u7248\u672c\u5f00\u59cb\uff0c\u5728rdb\u6587\u4ef6\u7684\u672b\u5c3e\u4f1a\u5e26\u4e0aCRC64\u7684\u6821\u9a8c\u548c\u3002\u8fd9\u8ddf\u6709\u5229\u4e8e\u6587\u4ef6\u7684\u5bb9\u9519\u6027\uff0c\u4f46\u662f\u5728\u4fdd\u5b58rdb\u6587\u4ef6\u7684\u65f6\u5019\uff0c\u4f1a\u6709\u5927\u698210%\u7684\u6027\u80fd\u635f\u8017\uff0c\u6240\u4ee5\u5982\u679c\u4f60\u8ffd\u6c42\u9ad8\u6027\u80fd\uff0c\u53ef\u4ee5\u5173\u95ed\u8be5\u914d\u7f6e\u3002\nrdbchecksum yes\n\n#rdb\u6587\u4ef6\u7684\u540d\u79f0\ndbfilename dump.rdb\n\n#\u6570\u636e\u76ee\u5f55\uff0c\u6570\u636e\u5e93\u7684\u5199\u5165\u4f1a\u5728\u8fd9\u4e2a\u76ee\u5f55\uff0c\u9ed8\u8ba4\u8bbe\u7f6e\u4e3a\u201c./\u201d\uff0c\u4e5f\u5c31\u662fRedis\u670d\u52a1\u7684\u4e3b\u76ee\u5f55\u3002rdb\u3001aof\u6587\u4ef6\u4e5f\u4f1a\u5199\u5728\u8fd9\u4e2a\u76ee\u5f55\ndir /var/lib/redis\n")),(0,n.kt)("h2",{id:"aof-\u6301\u4e45\u5316"},"AOF \u6301\u4e45\u5316"),(0,n.kt)("h3",{id:"\u4ec0\u4e48\u662f-aof"},"\u4ec0\u4e48\u662f AOF"),(0,n.kt)("p",null,"Redis\u662f\u201c\u5199\u540e\u201d\u65e5\u5fd7\uff0cRedis\u5148\u6267\u884c\u547d\u4ee4\uff0c\u628a\u6570\u636e\u5199\u5165\u5185\u5b58\uff0c\u7136\u540e\u624d\u8bb0\u5f55\u65e5\u5fd7\u3002\u65e5\u5fd7\u91cc\u8bb0\u5f55\u7684\u662fRedis\u6536\u5230\u7684\u6bcf\u4e00\u6761\u547d\u4ee4\uff0c\u8fd9\u4e9b\u547d\u4ee4\u662f\u4ee5\u6587\u672c\u5f62\u5f0f\u4fdd\u5b58\u3002AOF \u7684\u4f18\u5148\u7ea7 \u6bd4 RDB \u9ad8\uff0c\u5982\u679c\u540c\u65f6\u5b58\u5728 rdb \u548c aof \u6587\u4ef6\uff0c\u5907\u4efd\u6062\u590d\u65f6\u4f1a\u5ffd\u7565 rdb \u6587\u4ef6"),(0,n.kt)("p",null,"PS: \u5927\u591a\u6570\u7684\u6570\u636e\u5e93\u91c7\u7528\u7684\u662f\u5199\u524d\u65e5\u5fd7\uff08WAL\uff09\uff0c\u4f8b\u5982MySQL\uff0c\u901a\u8fc7\u5199\u524d\u65e5\u5fd7\u548c\u4e24\u9636\u6bb5\u63d0\u4ea4\uff0c\u5b9e\u73b0\u6570\u636e\u548c\u903b\u8f91\u7684\u4e00\u81f4\u6027\u3002"),(0,n.kt)("admonition",{title:"Redis\u8981\u6c42\u9ad8\u6027\u80fd\uff0c\u91c7\u7528\u5199\u65e5\u5fd7\u6709\u4e24\u65b9\u9762\u597d\u5904",type:"note"},(0,n.kt)("ul",{parentName:"admonition"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"\u907f\u514d\u989d\u5916\u7684\u68c0\u67e5\u5f00\u9500"),"\uff1aRedis \u5728\u5411 AOF \u91cc\u9762\u8bb0\u5f55\u65e5\u5fd7\u7684\u65f6\u5019\uff0c\u5e76\u4e0d\u4f1a\u5148\u53bb\u5bf9\u8fd9\u4e9b\u547d\u4ee4\u8fdb\u884c\u8bed\u6cd5\u68c0\u67e5\u3002\u6240\u4ee5\uff0c\u5982\u679c\u5148\u8bb0\u65e5\u5fd7\u518d\u6267\u884c\u547d\u4ee4\u7684\u8bdd\uff0c\u65e5\u5fd7\u4e2d\u5c31\u6709\u53ef\u80fd\u8bb0\u5f55\u4e86\u9519\u8bef\u7684\u547d\u4ee4\uff0cRedis \u5728\u4f7f\u7528\u65e5\u5fd7\u6062\u590d\u6570\u636e\u65f6\uff0c\u5c31\u53ef\u80fd\u4f1a\u51fa\u9519\u3002"),(0,n.kt)("li",{parentName:"ul"},"\u4e0d\u4f1a\u963b\u585e\u5f53\u524d\u7684\u5199\u64cd\u4f5c")),(0,n.kt)("p",{parentName:"admonition"},"\u4f46\u8fd9\u79cd\u65b9\u5f0f\u5b58\u5728\u6f5c\u5728\u98ce\u9669\uff1a"),(0,n.kt)("ul",{parentName:"admonition"},(0,n.kt)("li",{parentName:"ul"},"\u5982\u679c\u547d\u4ee4\u6267\u884c\u5b8c\u6210\uff0c\u5199\u65e5\u5fd7\u4e4b\u524d\u5b95\u673a\u4e86\uff0c\u4f1a\u4e22\u5931\u6570\u636e\u3002"),(0,n.kt)("li",{parentName:"ul"},"\u4e3b\u7ebf\u7a0b\u5199\u78c1\u76d8\u538b\u529b\u5927\uff0c\u5bfc\u81f4\u5199\u76d8\u6162\uff0c\u963b\u585e\u540e\u7eed\u64cd\u4f5c"))),(0,n.kt)("p",null,"Redis \u5982\u679c\u5355\u4f7f\u7528rdb\u6301\u4e45\u5316\u64cd\u4f5c\uff0c\u6709\u4e00\u4e2a\u95ee\u9898\u5c31\u662f\u57281\u5206\u949f\u65ad\u7535\u95f4\u9694\u4e2d\u7a81\u7136\u65ad\u7535\uff0c\u9020\u6210\u8fd9\u6bb5\u95f4\u9694\u65f6\u95f4\u5185\u7684\u6570\u636e\u6ca1\u6709\u6301\u4e45\u5316\u5230\u78c1\u76d8\u3002\u89e3\u51b3\u529e\u6cd5\u5c31\u662f\u7528 ",(0,n.kt)("strong",{parentName:"p"},"Redis "),"\u7684 ",(0,n.kt)("strong",{parentName:"p"},"aof(append only file) "),"\u505a\u65e5\u5fd7\u6301\u4e45\u5316\uff0c\u7b80\u5355\u6765\u8bf4\u5c31\u662f\u628a\u6bcf\u6761\u64cd\u4f5c\u547d\u4ee4\u90fd\u5199\u5230\u6587\u4ef6\u4e2d\uff0c\u6062\u590d\u65f6\u91cd\u65b0\u6267\u884c\u8fd9\u4e9b\u547d\u4ee4\u3002"),(0,n.kt)("h3",{id:"\u4f18\u7f3a\u70b9-1"},"\u4f18\u3001\u7f3a\u70b9"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"\u4f18\u70b9")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u5145\u5206\u4fdd\u8bc1\u6570\u636e\u7684\u6301\u4e45\u5316\uff0c\u6b63\u786e\u7684\u914d\u7f6e\u4e00\u822c\u6700\u591a\u4e22\u59311\u79d2\u7684\u6570\u636e"),(0,n.kt)("li",{parentName:"ul"},"aof \u6587\u4ef6\u5185\u5bb9\u662f\u4ee5 Redis \u534f\u8bae\u683c\u5f0f\u4fdd\u5b58\uff0c\u6613\u8bfb")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"\u7f3a\u70b9")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"aof \u6587\u4ef6\u901a\u5e38\u5927\u4e8e rdb"),(0,n.kt)("li",{parentName:"ul"},"\u901f\u5ea6\u6162\u4e8e rdb")),(0,n.kt)("h3",{id:"aof-\u76f8\u5173\u7684\u914d\u7f6e\u53c2\u6570"},"AOF \u76f8\u5173\u7684\u914d\u7f6e\u53c2\u6570"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"appendonly yes #\u662f\u5426\u5f00\u542faof\u7b56\u7565\nappendfilename ./appendonly.aof  # \u5199\u5165\u6587\u4ef6\u7684\u6587\u4ef6\u540d\n\n# \u8fd9\u4e2a\u53c2\u6570\u9879\u662fAOF\u529f\u80fd\u6700\u91cd\u8981\u7684\u8bbe\u7f6e\u9879\u4e4b\u4e00\uff0c\u4e3b\u8981\u7528\u4e8e\u8bbe\u7f6e\u201c\u771f\u6b63\u6267\u884c\u201d\u64cd\u4f5c\u547d\u4ee4\u5411AOF\u6587\u4ef6\u4e2d\u540c\u6b65\u7684\u7b56\u7565\uff0c\u9ed8\u8ba4 everysec\nappendfsync no # \u64cd\u4f5c\u7cfb\u7edf\u63a7\u5236\u7684\u5199\u56de\uff1a\u6bcf\u4e2a\u5199\u547d\u4ee4\u6267\u884c\u5b8c\uff0c\u53ea\u662f\u5148\u628a\u65e5\u5fd7\u5199\u5230AOF\u6587\u4ef6\u7684\u5185\u5b58\u7f13\u51b2\u533a\uff0c\u7531\u64cd\u4f5c\u7cfb\u7edf\u51b3\u5b9a\u4f55\u65f6\u5c06\u7f13\u51b2\u533a\u5185\u5bb9\u5199\u56de\u78c1\u76d8, \u6027\u80fd\u597d\uff0c\u5b95\u673a\u65f6\u4e22\u5931\u6570\u636e\u591a\nappendfsync always # \u540c\u6b65\u5199\u56de\uff1a\u6bcf\u4e2a\u5199\u547d\u4ee4\u6267\u884c\u5b8c\uff0c\u7acb\u9a6c\u540c\u6b65\u5730\u5c06\u65e5\u5fd7\u5199\u56de\u78c1\u76d8\u3002\u53ef\u9760\u6027\u9ad8\uff0c\u4f46\u6027\u80fd\u5f71\u54cd\u8f83\u5927\nappendfsync everysec # \u6bcf\u79d2\u5199\u56de\uff1a\u6bcf\u4e2a\u5199\u547d\u4ee4\u6267\u884c\u5b8c\uff0c\u53ea\u662f\u5148\u628a\u65e5\u5fd7\u5199\u5230AOF\u6587\u4ef6\u7684\u5185\u5b58\u7f13\u51b2\u533a\uff0c\u6bcf\u9694\u4e00\u79d2\u628a\u7f13\u51b2\u533a\u4e2d\u7684\u5185\u5bb9\u5199\u5165\u78c1\u76d8\u3002\u6027\u80fd\u9002\u4e2d\uff0c\u5b95\u673a\u65f6\u4e22\u59311s\u5185\u7684\u6570\u636e\n\nno-appendfsync-on-rewrite no # aof\u91cd\u5199\u671f\u95f4\u662f\u5426\u540c\u6b65\n\n# \u91cd\u5199\u89e6\u53d1\u914d\u7f6e\n# aof\u6587\u4ef6\u589e\u957f\u6bd4\u4f8b\uff0c\u6307\u5f53\u524daof\u6587\u4ef6\u6bd4\u4e0a\u6b21\u91cd\u5199\u7684\u589e\u957f\u6bd4\u4f8b\u5927\u5c0f, \u8d85\u8fc7\u6bd4\u4f8b\u5c31\u8fdb\u884caof\u91cd\u5199\u3002\nauto-AOF-rewrite-percentage 100\n# aof\u91cd\u5199\u81f3\u5c11\u8981\u8fbe\u5230\u7684\u5927\u5c0f\uff0c\u540e\u9762\u7684\u91cd\u5199\u5c31\u4e0d\u4f1a\u6709\u8fd9\u4e2a\u9650\u5236\u4e86\nauto-AOF-rewrite-min-size 64mb \n\n# \u6307redis\u5728\u6062\u590d\u65f6\uff0c\u4f1a\u5ffd\u7565\u6700\u540e\u4e00\u6761\u53ef\u80fd\u5b58\u5728\u95ee\u9898\u7684\u6307\u4ee4\u3002\u9ed8\u8ba4\u503cyes\u3002\u5373\u5728aof\u5199\u5165\u65f6\uff0c\u53ef\u80fd\u5b58\u5728\u6307\u4ee4\u5199\u9519\u7684\u95ee\u9898(\u7a81\u7136\u65ad\u7535\uff0c\u5199\u4e86\u4e00\u534a)\n# \u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0cyes\u4f1alog\u5e76\u7ee7\u7eed\uff0c\u800cno\u4f1a\u76f4\u63a5\u6062\u590d\u5931\u8d25.\naof-load-truncated\n")),(0,n.kt)("h3",{id:"aof-\u91cd\u5199"},"AOF \u91cd\u5199"),(0,n.kt)("p",null,"AOF\u4f1a\u8bb0\u5f55\u6bcf\u4e2a\u5199\u547d\u4ee4\u5230AOF\u6587\u4ef6\uff0c\u968f\u7740\u65f6\u95f4\u8d8a\u6765\u8d8a\u957f\uff0cAOF\u6587\u4ef6\u4f1a\u53d8\u5f97\u8d8a\u6765\u8d8a\u5927\u3002\u5982\u679c\u4e0d\u52a0\u4ee5\u63a7\u5236\uff0c\u4f1a\u5bf9Redis\u670d\u52a1\u5668\uff0c\u751a\u81f3\u5bf9\u64cd\u4f5c\u7cfb\u7edf\u9020\u6210\u5f71\u54cd\uff0c\u800c\u4e14AOF\u6587\u4ef6\u8d8a\u5927\uff0c\u6570\u636e\u6062\u590d\u4e5f\u8d8a\u6162\u3002\u4e3a\u4e86\u89e3\u51b3AOF\u6587\u4ef6\u4f53\u79ef\u81a8\u80c0\u7684\u95ee\u9898\uff0cRedis\u63d0\u4f9bAOF\u6587\u4ef6\u91cd\u5199\u673a\u5236\u6765\u5bf9AOF\u6587\u4ef6\u8fdb\u884c\u201c\u7626\u8eab\u201d\u3002"),(0,n.kt)("p",null,"Redis\u901a\u8fc7\u521b\u5efa\u4e00\u4e2a\u65b0\u7684AOF\u6587\u4ef6\u6765\u66ff\u6362\u73b0\u6709\u7684AOF\uff0c\u65b0\u65e7\u4e24\u4e2aAOF\u6587\u4ef6\u4fdd\u5b58\u7684\u6570\u636e\u76f8\u540c\uff0c\u4f46\u65b0AOF\u6587\u4ef6\u6ca1\u6709\u4e86\u5197\u4f59\u547d\u4ee4\u3002"),(0,n.kt)("p",null,(0,n.kt)("img",{src:A(4096).Z,width:"3970",height:"1080"})),(0,n.kt)("p",null,"1\u3001AOF \u91cd\u5199\u65f6\u4f1a\u963b\u585e\u5417\uff1f"),(0,n.kt)("p",null,"AOF \u5728fork\u7ebf\u7a0b\u65f6\u4f1a\u963b\u585e\u4e3b\u7ebf\u7a0b"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"AOF\u91cd\u5199\u8fc7\u7a0b\u662f\u7531\u540e\u53f0\u8fdb\u7a0b bgrewriteaof \u6765\u5b8c\u6210\u7684\u3002\u4e3b\u7ebf\u7a0bfork\u51fa\u540e\u53f0\u7684bgrewriteaof\u5b50\u8fdb\u7a0b\uff0cfork\u4f1a\u628a\u4e3b\u7ebf\u7a0b\u7684\u5185\u5b58\u62f7\u8d1d\u4e00\u4efd\u7ed9bgrewriteaof\u5b50\u8fdb\u7a0b\uff0c\u8fd9\u91cc\u9762\u5c31\u5305\u542b\u4e86\u6570\u636e\u5e93\u7684\u6700\u65b0\u6570\u636e\u3002\u7136\u540e\uff0cbgrewriteaof\u5b50\u8fdb\u7a0b\u5c31\u53ef\u4ee5\u5728\u4e0d\u5f71\u54cd\u4e3b\u7ebf\u7a0b\u7684\u60c5\u51b5\u4e0b\uff0c\u9010\u4e00\u628a\u62f7\u8d1d\u7684\u6570\u636e\u5199\u6210\u64cd\u4f5c\uff0c\u8bb0\u5165\u91cd\u5199\u65e5\u5fd7\u3002")),(0,n.kt)("p",null,"2\u3001 \u91cd\u5199\u65e5\u5fd7\u65f6\uff0c\u6709\u65b0\u6570\u636e\u5199\u5165\u548b\u6574\uff1f"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"\u91cd\u5199\u8fc7\u7a0b\u603b\u7ed3\u4e3a\uff1a\u201c\u4e00\u4e2a\u62f7\u8d1d\uff0c\u4e24\u5904\u65e5\u5fd7\u201d\u3002\u5728fork\u51fa\u5b50\u8fdb\u7a0b\u65f6\u7684\u62f7\u8d1d\uff0c\u4ee5\u53ca\u5728\u91cd\u5199\u65f6\uff0c\u5982\u679c\u6709\u65b0\u6570\u636e\u5199\u5165\uff0c\u4e3b\u7ebf\u7a0b\u5c31\u4f1a\u5c06\u547d\u4ee4\u8bb0\u5f55\u5230\u4e24\u4e2aaof\u65e5\u5fd7\u5185\u5b58\u7f13\u51b2\u533a\u4e2d\u3002")),(0,n.kt)("p",null,(0,n.kt)("img",{src:A(8232).Z,width:"2308",height:"1080"})),(0,n.kt)("h2",{id:"rdb-aof-\u6df7\u5408\u6301\u4e45\u5316"},"RDB-AOF \u6df7\u5408\u6301\u4e45\u5316"),(0,n.kt)("h3",{id:"\u7b80\u4ecb"},"\u7b80\u4ecb"),(0,n.kt)("p",null,"Redis 4.0 \u4e2d\u63d0\u51fa\u4e86\u4e00\u4e2a\u6df7\u5408\u4f7f\u7528 AOF \u65e5\u5fd7\u548c\u5185\u5b58\u5feb\u7167\u7684\u65b9\u6cd5\u3002\u7b80\u5355\u6765\u8bf4\uff0c\u5185\u5b58\u5feb\u7167\u4ee5\u4e00\u5b9a\u7684\u9891\u7387\u6267\u884c\uff0c\u5728\u4e24\u6b21\u5feb\u7167\u4e4b\u95f4\uff0c\u4f7f\u7528 AOF \u65e5\u5fd7\u8bb0\u5f55\u8fd9\u671f\u95f4\u7684\u6240\u6709\u547d\u4ee4\u64cd\u4f5c\u3002"),(0,n.kt)("p",null,"\u8fd9\u6837\u4e00\u6765\uff0c\u5feb\u7167\u4e0d\u7528\u5f88\u9891\u7e41\u5730\u6267\u884c\uff0c\u8fd9\u5c31\u907f\u514d\u4e86\u9891\u7e41 fork \u5bf9\u4e3b\u7ebf\u7a0b\u7684\u5f71\u54cd\u3002\u800c\u4e14\uff0cAOF \u65e5\u5fd7\u4e5f\u53ea\u7528\u8bb0\u5f55\u4e24\u6b21\u5feb\u7167\u95f4\u7684\u64cd\u4f5c\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e0d\u9700\u8981\u8bb0\u5f55\u6240\u6709\u64cd\u4f5c\u4e86\uff0c\u56e0\u6b64\uff0c\u5c31\u4e0d\u4f1a\u51fa\u73b0\u6587\u4ef6\u8fc7\u5927\u7684\u60c5\u51b5\u4e86\uff0c\u4e5f\u53ef\u4ee5\u907f\u514d\u91cd\u5199\u5f00\u9500\u3002"),(0,n.kt)("p",null,(0,n.kt)("img",{src:A(5758).Z,width:"590",height:"357"})),(0,n.kt)("p",null,(0,n.kt)("img",{src:A(2174).Z,width:"3508",height:"2183"})),(0,n.kt)("h3",{id:"\u76f8\u5173\u914d\u7f6e"},"\u76f8\u5173\u914d\u7f6e"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"aof-use-rdb-preamble no # \u6539\u4e3ayes\u5373\u53ef\u5f00\u542f\u6df7\u5408\u6301\u4e45\u5316\n")),(0,n.kt)("p",null,"\u6253\u5f00\u6df7\u5408\u5f00\u5173\u6267\u884cBGREWRITEAOF\u751f\u6210RDB-AOF\u6df7\u5408\u6587\u4ef6\u518d\u8ffd\u52a0\u5199\u5165\u4e00\u4e9b\u6570\u636e"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"$redis-cli\n127.0.0.1:6379> config set aof-use-rdb-preamble yes\nOK\n127.0.0.1:6379> BGREWRITEAOF\nBackground append only file rewriting started\n127.0.0.1:6379> set foo bar\nOK\n127.0.0.1:6379> qui\n")),(0,n.kt)("p",null,"\u524d\u534a\u6bb5\u662fRDB\u683c\u5f0f\u7684\u5168\u91cf\u6570\u636e\uff0c\u540e\u534a\u6bb5\u662fredis\u547d\u4ee4\u683c\u5f0f\u7684\u589e\u91cf\u6570\u636e"),(0,n.kt)("p",null,(0,n.kt)("img",{src:A(5236).Z,width:"854",height:"161"})),(0,n.kt)("p",null,"\u6df7\u5408\u6301\u4e45\u5316 aof \u6587\u4ef6\u7ed3\u6784\u5982\u4e0b"),(0,n.kt)("p",null,(0,n.kt)("img",{src:A(331).Z,width:"396",height:"394"})),(0,n.kt)("h2",{id:"redis-\u6062\u590d\u6570\u636e"},"Redis \u6062\u590d\u6570\u636e"),(0,n.kt)("h3",{id:"\u6d41\u7a0b"},"\u6d41\u7a0b"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"\u666e\u901a\u6062\u590d\u6d41\u7a0b")),(0,n.kt)("p",null,(0,n.kt)("img",{src:A(9745).Z,width:"663",height:"800"})),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"redis\u91cd\u542f\u65f6\u5224\u65ad\u662f\u5426\u5f00\u542faof\uff0c\u5982\u679c\u5f00\u542f\u4e86aof\uff0c\u90a3\u4e48\u5c31\u4f18\u5148\u52a0\u8f7daof\u6587\u4ef6\uff1b"),(0,n.kt)("li",{parentName:"ul"},"\u5982\u679caof\u5b58\u5728\uff0c\u90a3\u4e48\u5c31\u53bb\u52a0\u8f7daof\u6587\u4ef6\uff0c\u52a0\u8f7d\u6210\u529f\u7684\u8bddredis\u91cd\u542f\u6210\u529f\uff0c\u5982\u679caof\u6587\u4ef6\u52a0\u8f7d\u5931\u8d25\uff0c\u90a3\u4e48\u4f1a\u6253\u5370\u65e5\u5fd7\u8868\u793a\u542f\u52a8\u5931\u8d25\uff0c\u6b64\u65f6\u53ef\u4ee5\u53bb\u4fee\u590daof\u6587\u4ef6\u540e\u91cd\u65b0\u542f\u52a8\uff1b"),(0,n.kt)("li",{parentName:"ul"},"\u82e5aof\u6587\u4ef6\u4e0d\u5b58\u5728\uff0c\u90a3\u4e48redis\u5c31\u4f1a\u8f6c\u800c\u53bb\u52a0\u8f7drdb\u6587\u4ef6\uff0c\u5982\u679crdb\u6587\u4ef6\u4e0d\u5b58\u5728\uff0credis\u76f4\u63a5\u542f\u52a8\u6210\u529f\uff1b"),(0,n.kt)("li",{parentName:"ul"},"\u5982\u679crdb\u6587\u4ef6\u5b58\u5728\u5c31\u4f1a\u53bb\u52a0\u8f7drdb\u6587\u4ef6\u6062\u590d\u6570\u636e\uff0c\u5982\u52a0\u8f7d\u5931\u8d25\u5219\u6253\u5370\u65e5\u5fd7\u63d0\u793a\u542f\u52a8\u5931\u8d25\uff0c\u5982\u52a0\u8f7d\u6210\u529f\uff0c\u90a3\u4e48redis\u91cd\u542f\u6210\u529f\uff0c\u4e14\u4f7f\u7528rdb\u6587\u4ef6\u6062\u590d\u6570\u636e\u3002")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"\u6df7\u5408\u6301\u4e45\u5316\u6062\u590d\u6d41\u7a0b")),(0,n.kt)("p",null,(0,n.kt)("img",{src:A(882).Z,width:"440",height:"630"})),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"\u5224\u65ad\u662f\u5426\u5f00\u542f AOF \u6301\u4e45\u5316\uff0c\u5f00\u542f\u7ee7\u7eed\u6267\u884c\u540e\u7eed\u6d41\u7a0b\uff0c\u672a\u5f00\u542f\u6267\u884c\u52a0\u8f7d RDB \u6587\u4ef6\u7684\u6d41\u7a0b\uff1b"),(0,n.kt)("li",{parentName:"ol"},"\u5224\u65ad appendonly.aof \u6587\u4ef6\u662f\u5426\u5b58\u5728\uff0c\u6587\u4ef6\u5b58\u5728\u5219\u6267\u884c\u540e\u7eed\u6d41\u7a0b\uff1b"),(0,n.kt)("li",{parentName:"ol"},"\u5224\u65ad AOF \u6587\u4ef6\u5f00\u5934\u662f RDB \u7684\u683c\u5f0f, \u5148\u52a0\u8f7d RDB \u5185\u5bb9\u518d\u52a0\u8f7d\u5269\u4f59\u7684 AOF \u5185\u5bb9\uff1b"),(0,n.kt)("li",{parentName:"ol"},"\u5224\u65ad AOF \u6587\u4ef6\u5f00\u5934\u4e0d\u662f RDB \u7684\u683c\u5f0f\uff0c\u76f4\u63a5\u4ee5 AOF \u683c\u5f0f\u52a0\u8f7d\u6574\u4e2a\u6587\u4ef6\u3002")),(0,n.kt)("p",null,"\u6ce8\uff1aRedis \u662f\u901a\u8fc7\u5224\u65ad AOF \u6587\u4ef6\u7684\u5f00\u5934\u662f\u5426\u662f REDIS \u5173\u952e\u5b57\uff0c\u6765\u786e\u5b9a\u6b64\u6587\u4ef6\u662f\u5426\u4e3a\u6df7\u5408\u6301\u4e45\u5316\u6587\u4ef6\u7684\u3002AOF \u683c\u5f0f\u7684\u5f00\u5934\u662f ",(0,n.kt)("inlineCode",{parentName:"p"},"*"),"\uff0c\u800c RDB \u683c\u5f0f\u7684\u5f00\u5934\u662f ",(0,n.kt)("inlineCode",{parentName:"p"},"REDIS"),"\u3002"),(0,n.kt)("h3",{id:"rdb-\u5207\u6362\u4e3a-aof-\u6d41\u7a0b"},"RDB \u5207\u6362\u4e3a AOF \u6d41\u7a0b"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://redis.io/docs/management/persistence/#how-i-can-switch-to-aof-if-im-currently-using-dumprdb-snapshots"},"https://redis.io/docs/management/persistence/#how-i-can-switch-to-aof-if-im-currently-using-dumprdb-snapshots")),(0,n.kt)("blockquote",null,(0,n.kt)("ol",{parentName:"blockquote"},(0,n.kt)("li",{parentName:"ol"},"Make a backup of your latest dump.rdb file."),(0,n.kt)("li",{parentName:"ol"},"Transfer this backup to a safe place."),(0,n.kt)("li",{parentName:"ol"},"Issue the following two commands:\n",(0,n.kt)("inlineCode",{parentName:"li"},"redis-cli config set appendonly yes"),(0,n.kt)("inlineCode",{parentName:"li"},'redis-cli config set save ""')),(0,n.kt)("li",{parentName:"ol"},"Make sure your database contains the same number of keys it contained."),(0,n.kt)("li",{parentName:"ol"},"Make sure writes are appended to the append only file correctly."))),(0,n.kt)("hr",null),(0,n.kt)("p",null,"\u53c2\u8003\u6587\u7ae0"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u5b98\u65b9\u6587\u6863\uff1a",(0,n.kt)("a",{parentName:"li",href:"https://redis.io/docs/management/persistence/"},"https://redis.io/docs/management/persistence/"),"-"),(0,n.kt)("li",{parentName:"ul"},"Redis\u8fdb\u9636 - \u6301\u4e45\u5316\uff1aRDB\u548cAOF\u673a\u5236\u8be6\u89e3\uff1a",(0,n.kt)("a",{parentName:"li",href:"https://www.pdai.tech/md/db/nosql-redis/db-redis-x-rdb-aof.html"},"https://www.pdai.tech/md/db/nosql-redis/db-redis-x-rdb-aof.html")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://learn.lianglianglee.com/%E4%B8%93%E6%A0%8F/Redis%20%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86%E4%B8%8E%E5%AE%9E%E6%88%98/05%20Redis%20%E6%8C%81%E4%B9%85%E5%8C%96%E2%80%94%E2%80%94%E6%B7%B7%E5%90%88%E6%8C%81%E4%B9%85%E5%8C%96.md"},"Redis \u6301\u4e45\u5316\u2014\u2014\u6df7\u5408\u6301\u4e45\u5316"))))}o.isMDXComponent=!0},6006:(e,t,A)=>{A.d(t,{Z:()=>a});const a=A.p+"assets/images/20230507175403-26ee56d77133ccfca203b328dac28487.png"},6765:(e,t,A)=>{A.d(t,{Z:()=>a});const a=A.p+"assets/images/20230507181556-b7017a97af54f3634427f567be847df6.png"},4096:(e,t,A)=>{A.d(t,{Z:()=>a});const a=A.p+"assets/images/20230507184710-270630da28ddcdeba35e4ad9417bc1d4.png"},8232:(e,t,A)=>{A.d(t,{Z:()=>a});const a=A.p+"assets/images/20230507195418-0e68a8fbd180720927901d7a10bd4ef2.png"},2174:(e,t,A)=>{A.d(t,{Z:()=>a});const a=A.p+"assets/images/20230507195632-e8f5e15abb5816ab7cbc369fe5202959.png"},9745:(e,t,A)=>{A.d(t,{Z:()=>a});const a=A.p+"assets/images/20230507195918-5f0dab0a782c640a5f179b2e04c84f69.png"},5758:(e,t,A)=>{A.d(t,{Z:()=>a});const a=A.p+"assets/images/20230507200728-045cbbe44f7ccd105fac0ac33c088e93.png"},331:(e,t,A)=>{A.d(t,{Z:()=>a});const a=A.p+"assets/images/20230507201150-2563a0923aa12626510d3b06b7a8f8f7.png"},882:(e,t,A)=>{A.d(t,{Z:()=>a});const a=A.p+"assets/images/20230507201643-7b3eb41c5429430595cf0d90388232b5.png"},5236:(e,t,A)=>{A.d(t,{Z:()=>a});const a="data:image/png;base64,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"}}]);